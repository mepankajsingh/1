---
import Layout from '../layouts/Layout.astro';
import { getPageData } from '../lib/supabase';
import SkeletonLoader from '../components/SkeletonLoader.jsx';

// This enables ISR - the page will be generated at build time
// and then revalidated according to the ISR settings
export const prerender = false;

// Simulate loading delay for demonstration purposes
// In production, you'd remove this artificial delay
const pageData = await getPageData('home');
---

<Layout title={pageData.title}>
  <main class="mx-auto p-6 max-w-3xl">
    <h1 class="text-5xl font-bold leading-tight text-center mb-8 bg-clip-text text-transparent bg-gradient-to-r from-accent via-accent-light to-white bg-[length:400%] bg-[0%]">
      {pageData.title}
    </h1>
    <div class="mb-8 border border-accent-light/25 bg-gradient-to-b from-accent-dark/66 to-accent-dark/33 p-6 rounded-lg text-xl leading-relaxed">
      {pageData.content}
    </div>
  </main>
</Layout>
